<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أوقات الصلاة | تقويم الزهراء</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { font-family: Arial, sans-serif; background: #f4f4f4; margin:0; padding:0; }
        .container { max-width: 600px; margin: 20px auto; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);}
        h1 { text-align: center; color: #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { padding: 12px; text-align: center; border-bottom: 1px solid #ddd; }
        th { background-color: #007AFF; color: #fff; }
        .city-icons img { width: 24px; height: 24px; vertical-align: middle; margin-left: 5px; }
        .diff { font-size: 0.9em; color: #555; }
    </style>
</head>
<body>
    <div class="container">
        <h1>أوقات الصلاة - الأحساء و المدن الأخرى</h1>
        <table>
            <thead>
                <tr>
                    <th>الصلاة</th>
                    <th>الأحساء</th>
                    <th>الدمام <span class="diff">(±<span id="diff_dh"></span> دقيقة)</span></th>
                    <th>الرياض <span class="diff">(±<span id="diff_ry"></span> دقيقة)</span></th>
                </tr>
            </thead>
            <tbody id="prayer-times-body">
                <!-- سيتم تعبئة الجدول ديناميكياً بواسطة JS -->
            </tbody>
        </table>
    </div>

    <script>
        // أوقات الصلاة الأساسية للأحساء (توقيت تقويم الزهراء)
        const prayerTimesAhsaa = {
            Fajr: "04:45",
            Dhuhr: "12:15",
            Asr: "15:45",
            Maghrib: "18:30",
            Isha: "20:00"
        };

        // فروق المدن بالنسبة للأحساء بالدقائق
        const cityDiff = {
            Dammam: 2,   // الدمام +2 دقيقة
            Riyadh: -3   // الرياض -3 دقيقة
        };

        const tbody = document.getElementById('prayer-times-body');
        const diffDh = document.getElementById('diff_dh');
        const diffRy = document.getElementById('diff_ry');

        diffDh.textContent = cityDiff.Dammam;
        diffRy.textContent = cityDiff.Riyadh;

        for (let prayer in prayerTimesAhsaa) {
            const timeAh = prayerTimesAhsaa[prayer];
            const timeDh = adjustMinutes(timeAh, cityDiff.Dammam);
            const timeRy = adjustMinutes(timeAh, cityDiff.Riyadh);

            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${prayer}</td>
                <td>${timeAh} <span class="city-icons"><img src="icons/ahsa.png" alt="الأحساء"></span></td>
                <td>${timeDh} <span class="city-icons"><img src="icons/dammam.png" alt="الدمام"></span></td>
                <td>${timeRy} <span class="city-icons"><img src="icons/riyadh.png" alt="الرياض"></span></td>
            `;
            tbody.appendChild(row);
        }

        // دالة لضبط الوقت بالدقائق
        function adjustMinutes(timeStr, diff) {
            let [h, m] = timeStr.split(':').map(Number);
            m += diff;
            if (m >= 60) { h += 1; m -= 60; }
            if (m < 0) { h -= 1; m += 60; }
            if (h >= 24) h -= 24;
            if (h < 0) h += 24;
            return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}`;
        }
    </script>
</body>
</html>
