<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø§Ù„Ù…Ø¯ÙŠØ±</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f8f9fa; padding: 20px; }
        section { background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        input, textarea, select { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; }
        .btn { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .btn-group { background: #6f42c1; }
    </style>
</head>
<body>

    <div style="max-width: 800px; margin: auto;">
        <h1>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ± âš™ï¸</h1>

        <section>
            <h2>Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¤Ù‚ØªØ© ğŸ•’</h2>
            <input type="text" id="groupName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© (Ù…Ø«Ù„Ø§Ù‹: Ù†Ù‚Ø§Ø´ ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„ÙŠÙˆÙ…)">
            <label>ÙˆÙ‚Øª Ø§Ù„Ø¥ØºÙ„Ø§Ù‚:</label>
            <input type="datetime-local" id="expiryTime">
            <button class="btn btn-group" id="createGroup">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</button>
        </section>

        </div>

    <script type="module">
        import { db } from './config.js';
        import { collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        document.getElementById('createGroup').onclick = async () => {
            const name = document.getElementById('groupName').value;
            const expiry = document.getElementById('expiryTime').value;

            if (name && expiry) {
                await addDoc(collection(db, "TempGroups"), {
                    name: name,
                    expiry: new Date(expiry).getTime(),
                    createdAt: serverTimestamp(),
                    status: 'active'
                });
                alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ© Ø¨Ù†Ø¬Ø§Ø­!");
                document.getElementById('groupName').value = "";
            } else {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØªØ­Ø¯ÙŠØ¯ ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡");
            }
        };
    </script>
</body>
</html>
