<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†Ø²Ù„ - Ù†Ø³Ø®Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f4f7f6; font-family: 'Segoe UI', sans-serif; }
        .card { border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.05); margin-bottom: 20px; border: none; }
        .news-card { border-right: 5px solid #ffc107; background: #fff; transition: 0.3s; }
        .news-card:hover { transform: translateY(-5px); }
        .admin-section { background-color: #ffffff; border-top: 5px solid #0d6efd; }
    </style>
</head>
<body>

<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>ğŸ  Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù†Ø²Ù„ Ø§Ù„Ø°ÙƒÙŠ</h2>
        <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#newsModal">
            ğŸ“£ Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯
        </button>
    </div>

    <div class="row" id="newsContainer">
        </div>

    <hr class="my-5">

    <div class="card admin-section p-4">
        <h4>ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„</h4>
        <div class="row g-3 align-items-end mb-4">
            <div class="col-md-3">
                <input type="text" id="memberName" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ùˆ">
            </div>
            <div class="col-md-6 d-flex gap-3">
                <div class="form-check"><input class="form-check-input" type="checkbox" id="canWash"> <label>ØºØ³ÙŠÙ„</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" id="canClean"> <label>Ù†Ø¸Ø§ÙØ©</label></div>
                <div class="form-check"><input class="form-check-input" type="checkbox" id="canCook"> <label>Ø·Ø¨Ø®</label></div>
            </div>
            <div class="col-md-3">
                <button onclick="addMember()" class="btn btn-primary w-100">Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ +</button>
            </div>
        </div>
        <button onclick="generateSchedules()" class="btn btn-success w-25">ğŸ² ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹</button>
    </div>
</div>

<div class="modal fade" id="newsModal" tabindex="-1" aria-labelledby="newsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="newsModalLabel">Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø£Ùˆ Ø¥Ø¹Ù„Ø§Ù† Ù„Ù„Ù…Ù†Ø²Ù„</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="newsForm">
          <div class="mb-3">
            <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø±</label>
            <input type="text" id="newsTitle" class="form-control" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø§Ø¬ØªÙ…Ø§Ø¹ Ø¹Ø§Ø¦Ù„ÙŠØŒ Ø£Ùˆ Ù…Ù„Ø§Ø­Ø¸Ø©" required>
          </div>
          <div class="mb-3">
            <label class="form-label">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø¨Ø±</label>
            <textarea id="newsContent" class="form-control" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù‡Ù†Ø§..." required></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ø¥Ù„ØºØ§Ø¡</button>
        <button type="button" onclick="saveNews()" class="btn btn-warning">Ù†Ø´Ø± Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ø¢Ù†</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† LocalStorage
    let newsList = JSON.parse(localStorage.getItem('homeNews')) || [];
    let members = JSON.parse(localStorage.getItem('homeTasksMembers')) || [];

    // ÙˆØ¸ÙŠÙØ© Ø­ÙØ¸ Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
    function saveNews() {
        const title = document.getElementById('newsTitle').value;
        const content = document.getElementById('newsContent').value;

        if (!title || !content) {
            alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø§Ù†Ø§Øª");
            return;
        }

        const newEntry = {
            id: Date.now(),
            title: title,
            content: content,
            date: new Date().toLocaleString('ar-SA')
        };

        newsList.unshift(newEntry); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¨Ø± ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        localStorage.setItem('homeNews', JSON.stringify(newsList));

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        const modalElement = document.getElementById('newsModal');
        const modal = bootstrap.Modal.getInstance(modalElement);
        modal.hide();

        // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙˆØ±Ø³Ù… Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ø¬Ø¯Ø¯Ø§Ù‹
        document.getElementById('newsForm').reset();
        renderNews();
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙÙŠ Ø§Ù„ØµÙØ­Ø©
    function renderNews() {
        const container = document.getElementById('newsContainer');
        if (newsList.length === 0) {
            container.innerHTML = '<p class="text-center text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø¨Ø§Ø± Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
            return;
        }

        container.innerHTML = newsList.map(news => `
            <div class="col-md-6 mb-3">
                <div class="card p-3 news-card">
                    <div class="d-flex justify-content-between">
                        <h5 class="text-warning">${news.title}</h5>
                        <button onclick="deleteNews(${news.id})" class="btn-close" style="font-size: 0.7rem;"></button>
                    </div>
                    <p class="mb-1">${news.content}</p>
                    <small class="text-muted" style="font-size: 0.7rem;">ğŸ•’ ${news.date}</small>
                </div>
            </div>
        `).join('');
    }

    function deleteNews(id) {
        newsList = newsList.filter(n => n.id !== id);
        localStorage.setItem('homeNews', JSON.stringify(newsList));
        renderNews();
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
    renderNews();

    // (ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚ ØªØ¶Ø§Ù Ù‡Ù†Ø§ Ø¨Ù†ÙØ³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©)
    function addMember() { /* ... ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚ ... */ }
</script>

</body>
</html>
